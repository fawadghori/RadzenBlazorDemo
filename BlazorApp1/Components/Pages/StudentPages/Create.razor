@page "/students/create"
@rendermode InteractiveServer
@using Microsoft.EntityFrameworkCore
@using BlazorApp1.Models
@inject IDbContextFactory<BlazorApp1.Data.BlazorApp1Context> DbFactory
@inject NavigationManager NavigationManager
@inject NotificationService NotificationService

<PageTitle>Create Student</PageTitle>

<RadzenStack Gap="1rem">
    <RadzenText TextStyle="TextStyle.H3" TagName="TagName.H1">Create</RadzenText>
    <RadzenText TextStyle="TextStyle.H4" TagName="TagName.H2">Student</RadzenText>

    <RadzenCard>
        <EditForm Model="@Student" OnValidSubmit="@AddStudent" FormName="create">
            <DataAnnotationsValidator />
            <ValidationSummary class="text-danger" />

            <RadzenStack Gap="1rem">
                <RadzenRow>
                    <RadzenColumn Size="12" SizeMD="6">
                        <RadzenFormField Text="Name" Variant="Variant.Outlined">
                            <RadzenTextBox @bind-Value="Student.Name" Name="Name" Style="width: 100%;" />
                            <ValidationMessage For="@(() => Student.Name)" class="text-danger" />
                        </RadzenFormField>
                    </RadzenColumn>
                </RadzenRow>

                <RadzenRow>
                    <RadzenColumn Size="12" SizeMD="6">
                        <RadzenFormField Text="Age" Variant="Variant.Outlined">
                            <RadzenNumeric @bind-Value="Student.Age" Name="Age" Style="width: 100%;" />
                            <ValidationMessage For="@(() => Student.Age)" class="text-danger" />
                        </RadzenFormField>
                    </RadzenColumn>
                </RadzenRow>

                <RadzenRow>
                    <RadzenColumn Size="12" SizeMD="6">
                        <RadzenFormField Text="BirthDate" Variant="Variant.Outlined">
                            <RadzenDatePicker @bind-Value="Student.BirthDate" Name="BirthDate" DateFormat="dd/MM/yyyy" Style="width: 100%;" />
                            <ValidationMessage For="@(() => Student.BirthDate)" class="text-danger" />
                        </RadzenFormField>
                    </RadzenColumn>
                </RadzenRow>

                <RadzenRow>
                    <RadzenColumn>
                        <RadzenStack Orientation="Orientation.Horizontal" Gap="0.5rem" class="rz-mt-4">
                            <RadzenButton ButtonType="ButtonType.Submit" Icon="save" Text="Create" ButtonStyle="ButtonStyle.Primary" />
                            <RadzenButton ButtonType="ButtonType.Button" Icon="cancel" Text="Back to List" ButtonStyle="ButtonStyle.Light"
                                          Click="@BackToList" />
                        </RadzenStack>
                    </RadzenColumn>
                </RadzenRow>
            </RadzenStack>
        </EditForm>
    </RadzenCard>
</RadzenStack>

@* @code {
    
} *@